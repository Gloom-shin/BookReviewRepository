# 책의 리뷰📔
> part :  5장
> chapter :  책임과 메시지   
> CreateDate : 2022.06.04  
> UpdateDate :  


## 인상 깊었던 문구👁‍🗨

> 의도는 "메시징"이다. 훌륭하고 성장 가능한 시스템을 만들기 위한 핵심은 모듈 내부의 속성과 행동이 어떤가보다는   
> 모듈이 어떻게 커뮤니케이션하는가에 달려있다. (엘런 케이)
- 엘런 케이 : 미국의 전산학자(대학교수)로 객체 지향 프로그래밍과 사용자 인터페이스 디자인 분야의 선구자

## 책임과 메시지💬
 - 이전 챕터(4장)에서 객체지향의 강점이 책임과 메시지때문이라고 언급했었다. 
 - 왜 강점인지 알아보자

### 자율적인 책임
 - 여기서 키워드는 자율성이다. '자기 스스로의 원칙에 따라 어떤 일을 하거나 자신을 통제해서 절제하는 성질이나 특성'이다.
      - 반대말은 타율성으로 자신의 의지와 관계없이 정해진 규율이나 원칙에 따라서만 움직이는 성질을 의미한다. 
 - 객체지향 공동체를 구성하는 **기본단위가** `자율적인 객체`이다.
      - 즉, 타인이 정한 규칙이나 명령에 따라 판단하고 행동하는 객체는 객체지향과 어울리지 않다. 
 - 자율적인 객체가 되기 위한 필수조건이 `책임`이다!  
      - 그래서 설계 방법 중 책임-주도 설계라고 부르는 이유도 책임의 선택이 전체 설계의 방향을 결정하기 때문

> 자신의 의지에 따라 증언할 수 있는 자유
### 예시
<p align =center><img src = "https://user-images.githubusercontent.com/104331549/171996511-9b1af636-2fc9-4b82-9506-440fa609cb2e.png" ></p>


 - 위와 같이 **왕**이 `증언하라`라는 요청을 **모자장수**에게 `전송`한다.
 - 모자장수는 `증언할` **책임**을 져야하기에 하면 되기에 자기만의 방법으로 증언을 할 것이다.
     1. 기억력을 토대로 목격한 것을 설명할 수도 있고
     2. 기록된 내용을 참고해서 증언할 수도 있다.  
     3. 또, 증언할 내용을 문서로 작성해 제출 할 수도 있다.
 - 결국 어떠한 방법을 쓰든 왕이 만족할 만한 증언만 할 수 있으면 책임을 완수 한 것이다. 
 - 그밖의 세부사항은 무한대에 가까운 자율권을 누릴 수가 있다.
<p align =center><img src = "https://user-images.githubusercontent.com/104331549/171996499-6d870a8f-3e21-4284-b4c6-15ee7687b1cb.png" ></p>

 - 위의 같은 경우에는 **왕**이 `증언하라`는 요청은 같지만, 요청조건이 몇가지를 더해 좀더 구체적인 상태로 **모자장수**에게 `전송`한다.
 - 이번엔 좀 더 상세한 수준으로 요청을 하여 **모자장수**가 `증언`하기 위해 선택할 수 있는 자유의 범위를 지나치게 `제한`한다는 점이다.
    1. 기억력을 토대로 목격한 것을 설명해야 한다.
 - 증언이라는 최종목표는 만족시킬지 몰라도, 모자장수가 누려야하는 선택의 자유가 없어지는 것이다.
 - 이렇게 되면 **모자장수는 왕의 명령에 의존할 수 밖에 없다.** 

> 물론 너무 추상적인 요청도 제대로된 의도를 파악하기 힘들기에 문제다.
> 그럼 대체 어떻게 요청을 해야 객체지향에 어울리는 요청일까?

#### 1. `어떻게`가 아니라 `무엇`을
 - `증언한다`라는 책임은 모자 장수가 협력을 위해 `무엇`을 해야 해야지는 결정하지만, `어떻게`해야 하는지는 전혀 언급하지않는다.

#### 2.책임을 자극하는 메시지
 - 책임이라는 말속에는 어떤 행동을 수행한다는 의미가 포함돼 있다.
 - 객체가 다른 객체에게 접근할 수 있는 유일한 방법은 요청을 전송하는 것!
    - 이 요청을 `메시지`라고 부른다. 
     
> 그럼 메시지 구체적으로 무엇일까?  

### 메지시와 메서드 
 - 위의 왕과 모자장수 사이의 협력에서 서로 의사소통할 수 있는 방법은 메시지-전송을 통해서만 할 수 있다.
 - 여기서 왕이 모자 장수에게 전송하는 메시지를 가리키는 `증언하라`라는 부분을  `메시지 이름`이라고 한다. 
 - 요청 메시지에 추가적인 정보가 필요한 경우 메시지의 `인자(Argument)`를 통해 추가 정보를 제공할 수 있다.

### 메시지-전송 구성 
 - 메시지는 메시지 이름과 인자 두 부분으로 구성된다.
 - 전송은 수신자와 메시지의 조합이다. 
 - ex) 모자장수, 증언하라(어제-왕국)
<p align =center><img src = "https://user-images.githubusercontent.com/104331549/171997965-3670229f-208b-4615-a83b-e9f4cb71c6a4.png" ></p>
 - 객체가 수신할 수 있는 메시지의 모양이 객체가 수행할 책임의 모양을 결정
 - 외부의 객체는 메시지에 관해서만 볼 수 있고, 객체 내부는 볼 수 없기 때문에 자연스럽게 객체의 외부와 내부가 분리된다.
 
### 메서드
 - 메시지를 처리하기 위해 내부적으로 선택하는 방법을 `메서드` 라고 한다.
 - 먼저 객체는 메시지를 수신하면 처리할 수 있는 지 여부를 확인한다.
 - **실행시간 동안 메시지를 처리할 방법인 메서드를 선택한다.**
    - 메서드는 클래스안에 포함된 함수 또는 프로시저로 구현되어있다.
    - 다른 프로그래밍 언어와 객체지향 프로그래밍 언어를 구분짓는 핵심적인 특징이다.
 - 결과적으로 메시지를 대응되는 특정 메서드가 실행된다.


### 다형성
 - 다형성이란 서로 다른 유형의 객체가 동일한 메시지에 대해 서로 다르게 반응하는 것을 의미한다. 
 - 서로 다른 타입에 속하는 객체들이 동일한 메시지를 수신하여도, 각자의 메서드를 이용하여 메시지를 처리할수 있다.
    - 결국 동일한 메시지(증언하라)를 처리하는 방법은 메시지를 수신하는 수신자의 종류(모자장수, 요리사, 엘리스)에 따라 달라진다.
 - 다형성에서 중요한 것은 송신자의 관점이다.
    - 송신자의 관점에서는 동일한 역할을 수행하는 다양한 타입의 객체와 협력 하는 것이다.
    - 즉, 수신자가 어떤 종류인지 관계가 없다. 메시지만 잘 처리해주면 된다는 것이다. 
       - 수신자의 종류를 캡슐화한다.  
 -  다형성은 동일한 역할을 수행할 수 있는 **객체들 사이의 대체 가능성**을 의미한다.
 -  그래서 다형성은 설계를 유연하고 재사용 가능하게 만든다.

### 유연하고 확장 가능하고 재사용성이 높은 협력의 의미
 - 송신자가 수신자에 대해 매우 적은 정보만 알고 있더라고 상호 협력이 가능하다는 사실은 설계의 품질에 큰 영향을 미친다. 
 - 약하게 연결되어 있는 메시지가 결합도를 낮춤으로써, 품질을 높인다.
 1. 협력이 유연해진다. 
 2. 협력이 수행되는 방식을 확장할 수 있다. (기존 3가지 방법에 + 동영상 보내기 방법)
 3. 협력이 수행되는 방식을 재사용 할 수 있다. (재판이라는 협력을  다양한 객체들이 대체할 수 있다.)

> 객체-지향 시스템은 협력하는 객체들의 연결망이다.

### 객체 지향의 핵심, 메시지
 - 클래스 기반의 객체지향 언어를 사용하는 대부분의 사람들은 객체지향 애플리케이션을 클래스의 집합으로 생각한다.
    - 왜냐하면 클래스는 실제로 볼 수 있고, 수정할 수 있는 구체적인 존재이기 때문이다.
    - 그래서 많은 OOP 책에서는 클래스를 선언하고 속성과 메서드에 초점을 맞춘다.
 - 하지만, 실제 애플리케이션을 살아 있게 만드는 것은 클래스가 아니라 객체이다. 
    - 클래스 중심으로 가면 데이터를 중심으로 설계하게된다.
    - 클래스는 객체의 속성과 행위를 담는 틀일 뿐이다. 
    - 객체는 메시지를 주고받는 커뮤니케이션 즉, 메시지가 중심이 된다.
    - 메시지 중심으로 설계하면 객체의 내부구조를 감출수 있다.
    
> 객체가 메시지를 선택하는게 아니라, 메시지가 객체를 선택하여 객체들이 협력하게 설계해야한다.


### 책임-주도 설계 다시 살펴보기!
- 시스템의 책임을 보는 것으로부터 시작된다.
- 협력관계를 시작할 적절한 객체를 찾아 시스템의 책임을 객체의 책임으로 할당
- 객체가 책임을 다하며, 다른 객체의 도움이 필요하다면 도움을 요청한다.

<p align =center><img src = "https://user-images.githubusercontent.com/104331549/172004013-595ca5b5-9af8-44f1-a94e-3f05a11c7166.png" ></p>


<br></br>

## 느낀점 😌

### 다형성과 캡슐화는 매우 밀접한 관계다. 
 - OOP의 대한 개념을 처음 배우고 알아갈때에는 OOP의 특징 5개 캡슐화, 정보은닉, 추상화, 상속, 다형성이 각기 다른 독립적인 특징으로 가지고 있는 줄 알았다. 
   - 하지만, 알면 알수록 다형성을 사용하면 캡슐화도 필요로 하고, 객체의 대체 가능성을 위해선 다형성과 추상화를 필요로한다. 결국, 5가지 특징이 서로 얽히고 설켜있는 것이다.

### 사람과 객체
 - 이전에 읽었던 함께자라기에서 사람과 사람사이에서 혹은 팀간의 협력을 잘하려면 서로간의 신뢰가 매우 중요하다고 언급한다. 
 - 그리고, 그 신뢰를 쌓기위해서 꾸준히 노력해야 한다고도 한다. 
 - 하지만, 객체의 경우에는 서로 최소한의 정보만 알고 있는게 협력하기 좋다고 한다.
 - 무의식적으로 객체들 간의 많은 정보를 교류하게 만들었는 지 생각하게 되면서, 다시한번 실세계의 모방이 아니다라는 말이 와닿았다.
 

<br></br>

## 그밖의 내용🎈
 - 프로시저란?
   -  저장 프로시저를 말하며, 일련의 쿼리를 마치 하나의 함수처럼 실행하기 위한 퀴리의 집합이다.
   -  즉, 데이터베이스에 대해 특정 작업을 위한 쿼리들의 블록이다. (SQL문으로 쓰임)
   -  참고 자료 [프로시저란?](https://fomaios.tistory.com/entry/PLSQL-%ED%94%84%EB%A1%9C%EC%8B%9C%EC%A0%80Procedure%EB%9E%80-feat-CRUD)
