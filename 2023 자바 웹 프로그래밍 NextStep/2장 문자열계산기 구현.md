# ì±…ì˜ ë¦¬ë·°ðŸ“”
> part : 2ìž¥
> chapter : ë‹¹ì‹ ì€ ëª‡ë…„ì°¨? ~ ìˆ˜ì‹­ ë…„ ë™ì•ˆ ì „ë¬¸ê°€ê°€ ì•ˆë˜ëŠ” ë¹„ê²°   
> CreateDate : 2023.05.27   


# 2ìž¥ í…ŒìŠ¤íŠ¸ì™€ ë¦¬íŒ©í† ë§

- ì„œë¹„ìŠ¤ë¥¼ ë‹´ë‹¹í•˜ëŠ” í”„ë¡œë•ì…˜ ì½”ë“œì™€ í•´ë‹¹ ì½”ë“œê°€ ì œëŒ€ë¡œ ë™ìž‘í•˜ëŠ”ì§€ í™•ì¸ì„ ìœ„í•œ main()ìœ¼ë¡œ ë‚˜ë‰œë‹¤.

```java
package book.review;

public class Calculator {
    public int add(int i, int j){
        return i + j ;
    }
    public int subtract(int i, int j){
        return i - j ;
    }
    public int multiply(int i, int j){
        return i * j ;
    }
    public  int divide(int i, int j){
        return i / j ;
    }

    public static void main(String[] args) {
        Calculator cal = new Calculator();
        System.out.println(cal.add(3,4));
        System.out.println(cal.subtract(5,4));
        System.out.println(cal.multiply(2,6));
        System.out.println(cal.divide(8,4));
    }
}
```

### ë¬¸ì œì  ë°œìƒ

- main()ë©”ì†Œë“œ í•œê³³ì—ì„œ ì œëŒ€ë¡œ ë™ìž‘í•˜ëŠ”ì§€(í…ŒìŠ¤íŠ¸) í™•ì¸í•˜ë‹¤ë³´ë©´,  í…ŒìŠ¤íŠ¸í•­ëª©ì´ ì¦ê°€í•œë‹¤ í–ˆì„ë•Œ, main() ë©”ì†Œë“œë¥¼ ìœ ì§€í•˜ëŠ”ë° ë¶€ë‹´ì´ ëœë‹¤.
- ê·¸ëž˜ì„œ  í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ê° ë©”ì†Œë“œë³„ë¡œ ë¶„ë¦¬ê°€ í•„ìš”í•˜ë‹¤.
- Junitì„ í™œìš©í•˜ë©´ main() ë©”ì†Œë“œ ë¬¸ì œì ì„ ê·¹ë³µí•  ìˆ˜ ìžˆë‹¤.

### JUnit

- **í•œë²ˆì— ë©”ì†Œë“œ í•˜ë‚˜ë§Œ**
    - @Test ë©”ì†Œë“œì— í•˜ë‚˜ì˜ ê²€ì¦
- **ê²°ê³¼ ê°’ì„ ëˆˆì´ ì•„ë‹Œ í”„ë¡œê·¸ëž¨ì„ í†µí•´ ìžë™í™”**
    - assertEquals(); ,assertTrue();, assertNull(), ë“±
    - Assert í´ëž˜ìŠ¤ ë¬¸ì„œ í™•ì¸
- **í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¤‘ë³µ ì œê±°**
    - @Before ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ ì„ ì–¸
        - ì´ˆê¸°í™” ìž‘ì—…ìš©
    - í•„ë“œ ì¸ìŠ¤í„´ìŠ¤ë¡œ ë§Œë“¤ì§€ ì•ŠëŠ”ì´ìœ 
        - ì¸ìŠ¤í„´ìŠ¤ í•˜ë‚˜ê°€ ëª¨ë“  í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì— ìž¬ì‚¬ìš©ì´ ëœë‹¤.
        - ê·¸ëž˜ì„œ ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ì— ì˜í–¥ì„ ë¼ì¹ ìˆ˜ë„ ìžˆë‹¤.
        - ì´ì— ë¹„í•´ @BeforeëŠ” ë…ë¦½ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ë©”ì†Œë“œì— ì ìš© ê°€ëŠ¥í•˜ë‹¤.
    - @after ì• ë…¸í…Œì´ì…˜
        - í›„ì²˜ë¦¬ ìž‘ì—…ìš©
        - ë§¤ í…ŒìŠ¤íŠ¸ë§ˆë‹¤ ë’¤ì— ì‹¤í–‰ëœë‹¤.
- JUnit4ë•ŒëŠ” @Before , @After ë¥¼ ì‚¬ìš©í–ˆì§€ë§Œ, JUnit5ë¡œ ì˜¤ë©´ì„œ @BeforeEachë¡œ ë’¤ì— ë¶™ê²Œë˜ì—ˆë‹¤.
- @Before â†’ @BeforeEach
  @BeforeClass â†’ @BeforeAll
    - @BeforeAll ì˜ ê²½ìš°ì—ëŠ” í…ŒìŠ¤íŠ¸ì‹¤í–‰í•˜ê¸°ì „ ë‹¨ í•œë²ˆë§Œ ì‹¤í–‰ë˜ë©°,
    - ë©”ì†Œë“œê°€ **static**ìœ¼ë¡œ ë§Œë“¤ì–´ì ¸ì•¼ í•˜ë©° ë¦¬í„´íƒ€ìž…ì€Â **void**ì´ì–´ì•¼ í•¨
    - JUnit4 : https://junit.org/junit4/javadoc/4.12/org/junit/Before.html
    - JUnit5 : https://junit.org/junit5/docs/5.0.0/api/org/junit/jupiter/api/BeforeAll.html

## ë¬¸ìžì—´ ê³„ì‚°ê¸° ìš”êµ¬ì‚¬í•­ ë° ì‹¤ìŠµ

- ìš”êµ¬ì‚¬í•­
    1. ì‰¼í‘œ(,), ì½œë¡ (:)ì„ êµ¬ë¶„ìžë¡œ ê°€ì§€ëŠ” ë¬¸ìžì—´ì—ì„œ ìˆ«ìžë“¤ì˜ í•©ì„ ë°˜í™˜
    2. ìœ„ 2ê°€ì§€ì™¸ì— ì»¤ìŠ¤í…€ êµ¬ë¶„ìžë¥¼ ì§€ì •í•  ìˆ˜ ìžˆë‹¤.
        1. ë‹¨, â€œ//â€ ê³¼ â€œ\nâ€ ì‚¬ì´ì˜ êµ¬ë¶„ìžë§Œ ì§€ì •ê°€ëŠ¥
    3. ìŒìˆ˜ë¥¼ ì „ë‹¬í•˜ëŠ” ê²½ìš° RuntimeException ì²˜ë¦¬
- ìš”êµ¬ì‚¬í•­ ì„¸ë¶„í™”
    - ë¹ˆ ë¬¸ìžì—´ì¸ ê²½ìš° 0 ì„ ë°˜í™˜
    - ìˆ«ìžê°€ ì—†ëŠ” ê²½ìš°ë„  0ì„ ë°˜í™˜í•œë‹¤.
    - ì‰¼í‘œì¸ ê²½ìš°, ì½œë¡ ì¸ ê²½ìš° ë¬¸ìžì—´ì„ ë‚˜ëˆˆë‹¤.
    - ì»¤ìŠ¤í…€ êµ¬ë¶„ìžì˜ ê²½ìš° Pattern.*compile*()ì„ ì´ìš©í•œë‹¤.
    - Pattern Class ì•Œì•„ë³´ê¸°
        - Compile()
            - compile methodëŠ” String ê°’ìœ¼ë¡œ ë“¤ì–´ì˜¨ ì •ê·œì‹ì„ Pattern ê°ì²´ë¡œ ë°”ê¿”ì¤ë‹ˆë‹¤.

            ```java
            import java.util.regex.Matcher;
            import java.util.regex.Pattern;
            
            public class regex {
                static public void main(String[] args) {
                    String REGEX = "([0-9]{2,3}-([0-9]{3,4}-[0-9]{4}))";
                    String INPUT = "My number is 010-1234-5678. touch me.";
            
                    Pattern pattern = Pattern.compile(REGEX);
                    Matcher matcher = pattern.matcher(INPUT);
            
                    if(matcher.find()) {
                        System.out.println(matcher.group()); 
                        // 010-1234-5678
                    }
                }
            }
            ```

        - matcher(CharSequence **input**)
            - Patternì˜ ë©”ì†Œë“œë¡œ matcherÂ methodëŠ” regexì— ëŒ€í•´ inputê°’ê³¼ ë§¤ì¹­ë˜ëŠ” Matcherê°ì²´ë¥¼ ë§Œë“¤ì–´ ë°˜í™˜í•©ë‹ˆë‹¤.
            - ì¦‰, íŒ¨í„´ì— í•´ë‹¹ë˜ëŠ” ê°’ì„ ë°˜í™˜í•œë‹¤ëŠ” ê²ƒì´ë‹¤.
        - matches(String regex, CharSequence input)
            - ì²«ë²ˆì¨° ì¸ìž ì •ê·œì‹ìœ¼ë¡œ ì»´íŒŒì¼í•˜ì—¬ **ë‘ ë²ˆì§¸ ì¸ìžë¡œ ë°›ì€ ë°ì´í„°ì— ë§¤ì¹­í•œë‹¤.**
                - ë§Œì•½ ì •ê·œì‹ì— ë§¤ì¹­ë˜ëŠ” ë°ì´í„°ë¼ë©´ true,
                - ë§¤ì¹­ë˜ì§€ì•ŠëŠ”ë‹¤ë©´ falseì´ë‹¤.
        - group(int group)

        ```java
        public String group(int group) {
                checkMatch();
                checkGroup(group);
                if ((groups[group*2] == -1) || (groups[group*2+1] == -1))
                    return null;
                return getSubSequence(groups[group * 2], groups[group * 2 + 1]).toString();
        }
        
        CharSequence getSubSequence(int beginIndex, int endIndex) {
                return text.subSequence(beginIndex, endIndex);
        }
        ```


- ë¦¬íŒ©í† ë§í•´ë³´ê¸°
    - ë©”ì†Œë“œê°€ í•œê°€ì§€ ì±…ìž„ë§Œ ê°€ì§€ë„ë¡ êµ¬í˜„
    - ì¸ë´íŠ¸ ê¹Šì´ë¥¼ 1ë‹¨ê³„ë¡œ ìœ ì§€
    - else ì‚¬ìš©í•˜ì§€ ì•Šê¸°

# í…ŒìŠ¤íŠ¸ì™€ ë¦¬íŒ©í† ë§

- ìš”êµ¬ì‚¬í•­ì„ ìž‘ì€ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ê¸°
    - ì—¬ê¸°ì„œ í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ë§Œë“¤ì–´ì£¼ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤!
- ëª¨ë“ ë‹¨ê³„ì˜ ëì€ ë¦¬íŒ©í† ë§

### í…ŒìŠ¤íŠ¸ ì½”ë“œ

```java
package book.review.test;

import book.review.StringCalculator;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.*;

class StringCalculatorTest {

    StringCalculator sc;

    @BeforeEach
    public void setup(){
       sc = new StringCalculator();
    }
    @Test
    void add1() {
        int answer = sc.add(" ");
        assertEquals(0, answer);
    }
    @Test
    void add2() {
        int answer = sc.add("1,2");
        assertEquals(3, answer);
    }
    @Test
    void add3() {
        int answer = sc.add("1,2,3");
        assertEquals(6, answer);
    }
    @Test
    void add4() {
        int answer = sc.add("1,2:3");
        assertEquals(6, answer);
    }
    @Test
    void add5() {
        int answer = sc.add("//;n1;2;3");
        assertEquals(6, answer);
    }
    @Test
    void add6() {
        assertThrows(RuntimeException.class, () ->{sc.add("-1, 2, 3");});
    }
}
```

### 1ì°¨ ì½”ë“œ ìž‘ì„±

```java
package book.review;

import java.util.regex.Matcher;
import java.util.regex.Pattern;
public class StringCalculator {

    public int add(String text){
        int sum = 0;
        if(text == null || text.isEmpty()) return sum;

        String[] numbers = text.split(",|:");
        Matcher matcher = Pattern.compile("//(.)n(.*)").matcher(text);
        String customDelimeter = "";
        if(matcher.find()){
            customDelimeter = matcher.group(1);
            numbers = matcher.group(2).split(customDelimeter);
        }
        for(String num : numbers){
            try {
                int i = Integer.parseInt(num);
                sum += i;
            }catch (Exception e){

            }
        }

        if(sum <  0){
            throw new RuntimeException("ê°’ì´ ìŒìˆ˜ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
        }

        return sum;
    }

}
```

### ë¦¬íŒ©í† ë§ ì½”ë“œ

```java
package book.review;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class StringCalculator {

    public int add(String text){
        if(isBlack(text)){
            return 0;
        }
        return sum(toInts(split(text)));
    }
    private boolean isBlack(String text){
        return text ==null || text.isEmpty();
    }

    private String[] split(String text){
        Matcher matcher = Pattern.compile("//(.)n(.*)").matcher(text);
        if(matcher.find()){
            String customDelimeter = matcher.group(1);
            return matcher.group(2).split(customDelimeter);
        }

        return text.split(",|:");
      
    }

    private int[] toInts(String[] values){
        int[] numbers = new int[values.length];
        for (int i = 0; i < values.length; i++) {
            numbers[i] = Integer.parseInt(values[i]);
        }
        return numbers;
    }
    private  int sum(int[] numbers){
        int sum = 0;
        for(int n : numbers){
            sum+= n;
        }
        if(sum <  0){
            throw new RuntimeException("ê°’ì´ ìŒìˆ˜ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
        }
        return sum;
    }
}
```

### ì¶”ê°€ í•™ìŠµìžë£Œ

- TDD , ë¦¬íŒ©í† ë§
- ì •ê·œí‘œí˜„ì‹